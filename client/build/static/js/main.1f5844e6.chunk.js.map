{"version":3,"sources":["components/Chat/Chat.js","components/Join/Join.js","components/InfoBar/InfoBar.js","components/Input/Input.js","components/Message/Message.js","components/Messages/Messages.js","App.js","index.js","icons/closeIcon.png","icons/onlineIcon.png"],"names":["socket","useStyles","makeStyles","theme","root","margin","textDecoration","button","background","input","Join","useState","name","setName","room","setRoom","classes","id","className","TextField","underline","greenUnderline","label","placeholder","type","onChange","event","target","value","onClick","preventDefault","to","Button","variant","InfoBar","users","src","onlineIcon","alt","map","user","key","href","closeIcon","Input","message","sendMessage","setMessage","onKeyPress","Message","text","isSentByCurrentUser","trimmedName","trim","toLowerCase","ReactEmoji","emojify","Messages","messages","i","width","height","backgroundColor","Chat","location","setMessages","setUsers","ENDPOINT","useEffect","queryString","parse","search","io","emit","error","alert","on","Paper","bottom","App","path","exact","component","ReactDOM","render","document","querySelector","module","exports"],"mappings":"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","file":"static/js/main.1f5844e6.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './chat.css';\r\nimport queryString from 'query-string';\r\nimport io from 'socket.io-client';\r\nimport InfoBar from '../InfoBar/InfoBar';\r\nimport Input from '../Input/Input';\r\nimport Messages from '../Messages/Messages';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    background: {\r\n        margin: '1%',\r\n        width: '60vh',\r\n        height: '70vh',\r\n        backgroundColor: '#c8d7d5',\r\n    },\r\n}));\r\n\r\n\r\nlet socket;\r\n\r\n//use effect - zastepuje cyklezycie komponentu np. componentdidmount itp\r\n\r\nconst Chat = ({ location }) => {\r\n    const [name, setName] = useState('');\r\n    const [room, setRoom] = useState('');\r\n    const [message, setMessage] = useState('');\r\n    const [messages, setMessages] = useState([]);\r\n    const [users, setUsers] = useState([]);\r\n    const ENDPOINT = 'https://chat-application-react-n.herokuapp.com/';\r\n\r\n    const classes = useStyles();\r\n\r\n    useEffect(() => {\r\n        const { name, room } = queryString.parse(location.search);\r\n\r\n        socket = io(ENDPOINT);\r\n        setName(name);\r\n        setRoom(room);\r\n        //polaczenie z server/index.js tutaj eventy np. join\r\n        socket.emit('join', { name, room }, (error) => {\r\n            if (error) {\r\n                alert(error)\r\n            }\r\n        });\r\n\r\n    }, [ENDPOINT, location.search]);\r\n    //jesli sie zmieni ENDOPINT albo location.search to bedzie re render\r\n    useEffect(() => {\r\n        socket.on('message', message => {\r\n            setMessages(messages => [...messages, message])\r\n        });\r\n\r\n        socket.on('roomData', ({ users }) => {\r\n            setUsers(users);\r\n        })\r\n\r\n\r\n    }, []);\r\n    //onUpdate\r\n    //chcemy zeby wykonał się ten useEffect tylko wtedy gdy tablica massages sie zmieni\r\n    const sendMessage = (event) => {\r\n        event.preventDefault();\r\n        if (message) {\r\n            socket.emit('sendMessage', message, () => setMessage(''));\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"outerContainer\">\r\n            <div className={classes.background}>\r\n                <Paper>\r\n                    <InfoBar room={room} users={users} />\r\n                    <Messages messages={messages} name={name} />\r\n                    <Input className={classes.bottom} message={message} setMessage={setMessage} sendMessage={sendMessage} />\r\n                </Paper>\r\n\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Chat;","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './join.css';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        '& > *': {\r\n            margin: '3%',\r\n            textDecoration: 'none',\r\n        },\r\n\r\n    },\r\n    button: {\r\n        background: \"#93aaa7\",\r\n        '&:hover': {\r\n            background: \"#a4bdba\",\r\n        }\r\n    },\r\n    input: {\r\n        background: \"#93aaa7\",\r\n        '&:active': {\r\n            background: \"#a4bdba\",\r\n        }\r\n    }\r\n\r\n}));\r\n\r\nconst Join = () => {\r\n    const [name, setName] = useState('');\r\n    const [room, setRoom] = useState('');\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <div id=\"mainContainer\">\r\n            <div id=\"fotoRight\"></div>\r\n            <div className=\"joinOuterContainer\">\r\n                <div className=\"joinInnerContainer\">\r\n\r\n                    <h1 className=\"heading\">Get Started</h1>\r\n                    <form className={classes.root} className={classes.root} noValidate autoComplete=\"off\">\r\n                        <div><TextField classes={{ underline: classes.greenUnderline }} label=\"Nick\" placeholder=\"\" className=\"joinInput\" type=\"text\" onChange={(event) => setName(event.target.value)} /></div>\r\n                        <div><TextField className={classes.input} label=\"Room\" placeholder=\"\" className=\"joinInput mt-20\" type=\"text\" onChange={(event) => setRoom(event.target.value)} /></div>\r\n                        <Link onClick={event => (!name || !room) ? event.preventDefault() : null} to={`/chat?name=${name}&room=${room}`}>\r\n                            <Button className={classes.button} variant=\"contained\" type=\"submit\">Sign In</Button>\r\n                        </Link>\r\n                    </form>\r\n\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Join;","import React from 'react';\r\nimport './infoBar.css';\r\nimport closeIcon from '../../icons/closeIcon.png';\r\nimport onlineIcon from '../../icons/onlineIcon.png';\r\n\r\nconst InfoBar = ({ room, users }) => (\r\n    <div className=\"infoBar\">\r\n        <div className=\"leftInnerContainer\">\r\n            <img className=\"onlineIcon\" src={onlineIcon} alt=\"online\" />\r\n            <h3>{room}</h3>\r\n            <div className=\"users\">(\r\n                {users.map((user, key) => {\r\n                return < inline key={key} > {user.name} </inline>\r\n\r\n            })})\r\n            </div>\r\n\r\n        </div>\r\n        <div className=\"rightInnerContainer\">\r\n            <a href=\"/\"><img src={closeIcon} alt=\"close\" /></a>\r\n        </div>\r\n    </div >\r\n);\r\nexport default InfoBar;\r\n","import React from 'react';\r\nimport './input.css';\r\n\r\n\r\n\r\nconst Input = ({ message, sendMessage, setMessage }) => (\r\n    <form className=\"form\">\r\n        <input\r\n            className=\"input\"\r\n            type=\"text\"\r\n            placeholder=\"Write something... \"\r\n            value={message}\r\n            onChange={({ target: { value } }) => setMessage(value)}\r\n            onKeyPress={event => event.key === 'Enter' ? sendMessage(event) : null}\r\n        />\r\n        <button className=\"sendButton\" onClick={(event) => sendMessage(event)}>Send</button>\r\n    </form>\r\n);\r\n\r\nexport default Input;","import React from 'react';\r\nimport './message.css';\r\nimport ReactEmoji from 'react-emoji';\r\nimport ScrollToBottom from 'react-scroll-to-bottom';\r\n\r\n\r\n\r\nconst Message = ({ message: { text, user }, name }) => {\r\n    let isSentByCurrentUser = false;\r\n\r\n    const trimmedName = name.trim().toLowerCase();\r\n    if (user === trimmedName) {\r\n        isSentByCurrentUser = true;\r\n    }\r\n    return (\r\n        isSentByCurrentUser ? (\r\n            <div className=\"messageContainer justifyEnd\">\r\n                <p className=\"sentText pr-10\">{trimmedName}</p>\r\n                <div className=\"messageBox backgroundBlue\">\r\n                    <p className=\"messageText colorWhite\">{ReactEmoji.emojify(text)}</p>\r\n                </div>\r\n            </div>\r\n        ) : (\r\n                <div className=\"messageContainer justifyStart\">\r\n                    <div className=\"messageBox backgroundLight\">\r\n                        <p className=\"messageText colorDark\">{ReactEmoji.emojify(text)}</p>\r\n                    </div>\r\n                    <p className=\"sentText pl-10\">{user}</p>\r\n                </div>\r\n            )\r\n    )\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\nimport './messages.css';\r\nimport ScrollToBottom from 'react-scroll-to-bottom';\r\nimport Message from '../Message/Message';\r\n\r\n\r\nconst Messages = ({ messages, name }) => (\r\n    <ScrollToBottom className=\"messages\">\r\n        {messages.map((message, i) => <div key={i}><Message message={message} name={name} /></div>)}\r\n    </ScrollToBottom>\r\n);\r\n\r\nexport default Messages;","import React from 'react';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\nimport Join from './components/Join/Join';\r\nimport Chat from './components/Chat/Chat';\r\n\r\nconst App = () => (\r\n    <Router>\r\n        <Route path=\"/\" exact component={Join} />\r\n        <Route path=\"/chat\" exact component={Chat} />\r\n    </Router>\r\n);\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.querySelector('#root'));","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII=\""],"sourceRoot":""}